---
// Mascote da marca - "Verdinho"
// Uma plantinha fofa em um vaso que expressa emocoes

interface Props {
  mood?: 'happy' | 'excited' | 'thinking' | 'waving' | 'sleeping';
  size?: 'sm' | 'md' | 'lg' | 'xl';
  class?: string;
}

const { mood = 'happy', size = 'md', class: className = '' } = Astro.props;

const sizes = {
  sm: 'w-16 h-20',
  md: 'w-24 h-28',
  lg: 'w-32 h-36',
  xl: 'w-48 h-56'
};
---

<div class={`${sizes[size]} ${className}`}>
  <svg viewBox="0 0 100 120" fill="none" xmlns="http://www.w3.org/2000/svg" class="w-full h-full">
    <!-- Sombra -->
    <ellipse cx="50" cy="115" rx="25" ry="4" fill="#15803d" fill-opacity="0.15"/>

    <!-- Vaso de terracota -->
    <path d="M30 85H70L65 110H35L30 85Z" fill="url(#potGradMascote)" stroke="#b5441c" stroke-width="2"/>
    <path d="M27 80H73V88H27V80Z" fill="#db5a21" stroke="#b5441c" stroke-width="2" rx="3"/>

    <!-- Terra -->
    <ellipse cx="50" cy="85" rx="18" ry="4" fill="#5c4033"/>

    <!-- Corpo da planta (face) -->
    <ellipse cx="50" cy="55" rx="28" ry="30" fill="url(#bodyGradMascote)" stroke="#15803d" stroke-width="2.5"/>

    {mood === 'happy' && (
      <>
        <!-- Olhos felizes -->
        <ellipse cx="40" cy="50" rx="4" ry="5" fill="#15803d"/>
        <ellipse cx="60" cy="50" rx="4" ry="5" fill="#15803d"/>
        <ellipse cx="41" cy="48" rx="1.5" ry="2" fill="white"/>
        <ellipse cx="61" cy="48" rx="1.5" ry="2" fill="white"/>

        <!-- Sorriso -->
        <path d="M38 62C38 62 50 72 62 62" stroke="#15803d" stroke-width="2.5" stroke-linecap="round"/>

        <!-- Bochechas -->
        <ellipse cx="32" cy="58" rx="4" ry="3" fill="#fca5a5" fill-opacity="0.5"/>
        <ellipse cx="68" cy="58" rx="4" ry="3" fill="#fca5a5" fill-opacity="0.5"/>
      </>
    )}

    {mood === 'excited' && (
      <>
        <!-- Olhos arregalados -->
        <ellipse cx="40" cy="48" rx="6" ry="7" fill="#15803d"/>
        <ellipse cx="60" cy="48" rx="6" ry="7" fill="#15803d"/>
        <ellipse cx="41" cy="46" rx="2.5" ry="3" fill="white"/>
        <ellipse cx="61" cy="46" rx="2.5" ry="3" fill="white"/>

        <!-- Boca aberta -->
        <ellipse cx="50" cy="65" rx="8" ry="6" fill="#15803d"/>
        <ellipse cx="50" cy="64" rx="5" ry="3" fill="#fca5a5"/>

        <!-- Estrelinhas -->
        <path d="M18 35L20 38L23 36L21 39L24 41L21 41L20 44L19 41L16 41L19 39L18 35Z" fill="#facc15" class="animate-pulse"/>
        <path d="M78 30L79 32L82 31L80 33L82 35L80 35L79 37L78 35L75 35L77 33L78 30Z" fill="#facc15" class="animate-pulse"/>

        <!-- Bochechas maiores -->
        <ellipse cx="30" cy="55" rx="5" ry="4" fill="#fca5a5" fill-opacity="0.6"/>
        <ellipse cx="70" cy="55" rx="5" ry="4" fill="#fca5a5" fill-opacity="0.6"/>
      </>
    )}

    {mood === 'thinking' && (
      <>
        <!-- Olhos pensativos -->
        <ellipse cx="40" cy="50" rx="4" ry="5" fill="#15803d"/>
        <ellipse cx="60" cy="50" rx="4" ry="5" fill="#15803d"/>
        <ellipse cx="42" cy="48" rx="1.5" ry="2" fill="white"/>
        <ellipse cx="62" cy="52" rx="1.5" ry="2" fill="white"/>

        <!-- Boca pensativa -->
        <path d="M42 64C42 64 46 62 54 66" stroke="#15803d" stroke-width="2.5" stroke-linecap="round"/>

        <!-- Balao de pensamento -->
        <circle cx="80" cy="25" r="12" fill="white" stroke="#e5e7eb" stroke-width="1.5"/>
        <circle cx="72" cy="38" r="4" fill="white" stroke="#e5e7eb" stroke-width="1"/>
        <circle cx="68" cy="45" r="2" fill="white" stroke="#e5e7eb" stroke-width="1"/>
        <text x="80" y="29" text-anchor="middle" fill="#15803d" font-size="12">?</text>
      </>
    )}

    {mood === 'waving' && (
      <>
        <!-- Olhos felizes -->
        <ellipse cx="40" cy="50" rx="4" ry="5" fill="#15803d"/>
        <ellipse cx="60" cy="50" rx="4" ry="5" fill="#15803d"/>
        <ellipse cx="41" cy="48" rx="1.5" ry="2" fill="white"/>
        <ellipse cx="61" cy="48" rx="1.5" ry="2" fill="white"/>

        <!-- Sorriso -->
        <path d="M38 62C38 62 50 72 62 62" stroke="#15803d" stroke-width="2.5" stroke-linecap="round"/>

        <!-- Folha acenando (braco) -->
        <g class="animate-wiggle" style="transform-origin: 78px 50px;">
          <path d="M75 55C80 45 90 40 95 35" stroke="#15803d" stroke-width="3" stroke-linecap="round"/>
          <path d="M90 35C90 35 98 30 100 25C95 28 88 32 90 35Z" fill="#4ade80" stroke="#15803d" stroke-width="1.5"/>
        </g>

        <!-- Bochechas -->
        <ellipse cx="32" cy="58" rx="4" ry="3" fill="#fca5a5" fill-opacity="0.5"/>
        <ellipse cx="68" cy="58" rx="4" ry="3" fill="#fca5a5" fill-opacity="0.5"/>
      </>
    )}

    {mood === 'sleeping' && (
      <>
        <!-- Olhos fechados (linhas) -->
        <path d="M35 50C35 50 40 53 45 50" stroke="#15803d" stroke-width="2.5" stroke-linecap="round"/>
        <path d="M55 50C55 50 60 53 65 50" stroke="#15803d" stroke-width="2.5" stroke-linecap="round"/>

        <!-- Boca dormindo -->
        <ellipse cx="50" cy="65" rx="4" ry="3" fill="#15803d" fill-opacity="0.3"/>

        <!-- Zzzs -->
        <text x="70" y="35" fill="#15803d" font-size="12" font-weight="bold" class="animate-float" style="animation-delay: 0s;">z</text>
        <text x="78" y="25" fill="#15803d" font-size="14" font-weight="bold" class="animate-float" style="animation-delay: 0.3s;">z</text>
        <text x="88" y="15" fill="#15803d" font-size="16" font-weight="bold" class="animate-float" style="animation-delay: 0.6s;">Z</text>

        <!-- Bochechas -->
        <ellipse cx="32" cy="55" rx="5" ry="4" fill="#fca5a5" fill-opacity="0.4"/>
        <ellipse cx="68" cy="55" rx="5" ry="4" fill="#fca5a5" fill-opacity="0.4"/>
      </>
    )}

    <!-- Folhas no topo (cabelo) -->
    <g class="group-hover:animate-wiggle" style="transform-origin: 50px 25px;">
      <!-- Folha central -->
      <path d="M50 30C50 30 45 15 42 5C48 5 52 15 50 30Z" fill="#22c55e" stroke="#15803d" stroke-width="1.5"/>
      <path d="M50 30C50 30 55 15 58 5C52 5 48 15 50 30Z" fill="#4ade80" stroke="#15803d" stroke-width="1.5"/>

      <!-- Folha esquerda -->
      <path d="M40 35C40 35 28 25 20 20C28 18 38 25 40 35Z" fill="#22c55e" stroke="#15803d" stroke-width="1.5">
        <animate attributeName="d" dur="4s" repeatCount="indefinite"
          values="M40 35C40 35 28 25 20 20C28 18 38 25 40 35Z;
                  M40 35C40 35 25 28 15 25C25 20 38 25 40 35Z;
                  M40 35C40 35 28 25 20 20C28 18 38 25 40 35Z"/>
      </path>

      <!-- Folha direita -->
      <path d="M60 35C60 35 72 25 80 20C72 18 62 25 60 35Z" fill="#4ade80" stroke="#15803d" stroke-width="1.5">
        <animate attributeName="d" dur="4s" repeatCount="indefinite" begin="0.5s"
          values="M60 35C60 35 72 25 80 20C72 18 62 25 60 35Z;
                  M60 35C60 35 75 28 85 25C75 20 62 25 60 35Z;
                  M60 35C60 35 72 25 80 20C72 18 62 25 60 35Z"/>
      </path>

      <!-- Folhinha pequena -->
      <ellipse cx="50" cy="8" rx="3" ry="5" fill="#86efac" stroke="#15803d" stroke-width="1"/>
    </g>

    <!-- Gradientes -->
    <defs>
      <linearGradient id="potGradMascote" x1="0%" y1="0%" x2="0%" y2="100%">
        <stop offset="0%" stop-color="#ea7531"/>
        <stop offset="100%" stop-color="#b5441c"/>
      </linearGradient>
      <radialGradient id="bodyGradMascote" cx="40%" cy="30%">
        <stop offset="0%" stop-color="#86efac"/>
        <stop offset="50%" stop-color="#4ade80"/>
        <stop offset="100%" stop-color="#22c55e"/>
      </radialGradient>
    </defs>
  </svg>
</div>
